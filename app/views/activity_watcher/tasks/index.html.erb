<div class="contents__header">
  <%= render partial: 'layouts/activity_watcher/tasks/header' %>
</div>

<div class="contents__main">
  <div class="contents__wrap">
    <p id="notice"><%= notice %></p>
    <h4><%= @course.title %>の課題一覧</h4>

    <% @tasks.each do |task| %>
      <table class="table table-bordered table-word-break table-striped">
        <tr class="table-row">
          <th class="col-md-2 table-title">課題名</th>
          <td><%= link_to task.title, task_url(task.id) %></td>
        </tr>
        <tr class="table-row">
          <th class="col-md-2 table-title">課題開始日</th>
          <td><%= l task.start_date, format: :medium %></td>
        </tr>
        <tr class="table-row">
          <th class="col-md-2 table-title">課題終了日</th>
          <td><%= l task.end_date, format: :medium %></td>
        </tr>
        <tr class="table-row">
          <th class="col-md-2 table-title">課題詳細</th>
          <td><%=  task.description.truncate(50) %></td>
        </tr>
        <tr class="table-row">
          <th class="col-md-2 table-title">slackドメイン</th>
          <td><%= task.slack_domain %></td>
        </tr>        
        <tr class="table-row">
          <th class="col-md-2 table-title">アクション</th>
          <td>
            <%= link_to edit_task_path(task.id) do %>
              <button type="button" class="btn btn-default">編集</button>
            <% end %>
            <%= link_to task_path(task.id), method: :delete, data: { confirm: '元に戻せませんが、よろしいですか？' } do %>
              <button type="button" class="btn btn-danger">削除</button>
            <% end %>
          </td>
        </tr>
      </table>
    <% end %>
  </div>
</div>